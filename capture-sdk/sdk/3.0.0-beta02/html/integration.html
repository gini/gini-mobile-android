

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integration &mdash; Gini Capture SDK for Android 2.0 documentation</title>
  

  
  

  
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic|Source+Code+Pro|Roboto+Slab:400,700" rel="stylesheet" type="text/css" />

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'2.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Gini Capture SDK for Android 2.0 documentation" href="index.html"/>
        <link rel="next" title="Features" href="features.html"/>
        <link rel="prev" title="Getting started" href="getting-started.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" id="gini-logo">
          <img src="_static/logo.png" />
        </a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#android-manifest">Android Manifest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requirements-check">Requirements Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tablet-support">Tablet Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#networking">Networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#default-implementation">Default Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-implementation">Custom Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-feedback">Sending Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#capturing-documents">Capturing documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features.html#document-capture">Document Capture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#custom-ui-elements">Custom UI Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#onboarding">Onboarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#single-page">Single Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#multi-page">Multi-Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#camera">Camera</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#qr-code-scanning">QR Code Scanning</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#only-qr-code-scanning">Only QR Code Scanning</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#document-import">Document Import</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#android-manifest">Android Manifest</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#intercepting-the-imported-document">Intercepting the imported document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#file-import-open-with">File Import (Open With)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#registering-pdf-and-image-file-types">Registering pdf and image file types</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#handling-imported-files">Handling Imported Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#help-screen-customization">Help Screen Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#analysis-screen-customization">Analysis Screen Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#event-tracking">Event Tracking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#error-logging">Error Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customization-guide.html">Customization Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#overview-of-ui-customization-options">Overview of UI Customization Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#styles">Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#images">Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#typography">Typography</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#ui-elements">UI Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#dark-mode">Dark mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#onboarding-screen">Onboarding Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#camera-screen">Camera Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-import-hint">8.1 Document Import Hint</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#qr-code-scanner-hint">8.2 QR Code Scanner Hint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#review-screen">Review Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#analysis-screen">Analysis Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#multi-page-review-screen">Multi-Page Review Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#badge">5.1 Badge</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#drag-indicator-bumps">5.2 Drag Indicator Bumps</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#highlight-strip">5.3 Highlight Strip</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#activity-indicator">5.4 Activity Indicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#upload-success-icon">5.5 Upload Success Icon</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#upload-failure-icon">5.6 Upload Failure Icon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#help-screen">Help Screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#photo-tips-screen">Photo Tips Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#good-lighting">4.1 Good Lighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-should-be-flat">4.2 Document Should be Flat</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#device-parallel-to-document">4.3 Device Parallel to Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-aligned-with-corner-guides">4.4 Document Aligned with Corner Guides</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-with-multiple-pages">4.5 Document with Multiple Pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#supported-formats-screen">Supported Formats Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#supported-format-icon">4.1 Supported Format Icon</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#unsupported-format-icon">4.2 Unsupported Format Icon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#file-import-screen">File Import Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#number">5.1 Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#title">5.2 Title</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#body">5.3 Body</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#illustration">5.4 Illustration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#clear-defaults-dialog">Clear Defaults Dialog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#file-type">1.1 File Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#positive-button-title">2. Positive Button Title</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#negative-button-title">3. Negative Button Title</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrate-to-2-0-0.html">Migrate to 2.0.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-2-0-0.html#default-networking-implementation">Default Networking Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-2-0-0.html#ginicapturedefaultnetworkservice-builder">GiniCaptureDefaultNetworkService.Builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-2-0-0.html#sessionmanager">SessionManager</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrate-to-3-0-0.html">Migrate to 3.0.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-from-component-api">Migrate from Component API</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-from-screen-api">Migrate from Screen API</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#overview-of-new-ui-customization-options">Overview of New UI Customization Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#styles">Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#images">Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#typography">Typography</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#ui-elements">UI Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#dark-mode">Dark mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-to-the-new-ui">Migrate to the new UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#onboarding">Onboarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#qr-code-scanning">QR code scanning</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#review">Review</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#help">Help</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#analysis">Analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#licenses-and-acknowledgements-for-incorporated-software">Licenses and Acknowledgements for Incorporated Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="license.html#apache-commons-imaging">Apache Commons Imaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#touchimageview">TouchImageView</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#simple-logging-facade-for-java-slf4j">Simple Logging Facade for Java (SLF4J)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#jersey-repackaged-jsr166e">Jersey Repackaged JSR166e</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Gini Capture SDK for Android</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Integration</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="integration">
<h1>Integration<a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="android-manifest">
<h2>Android Manifest<a class="headerlink" href="#android-manifest" title="Permalink to this headline">¶</a></h2>
<p>The Gini Capture SDK uses the camera therefore the camera permission is required:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">package=</span><span class="s">&quot;...&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.CAMERA&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/manifest&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure you request the camera permission before starting the SDK.</p>
</div>
</div>
<div class="section" id="requirements-check">
<h2>Requirements Check<a class="headerlink" href="#requirements-check" title="Permalink to this headline">¶</a></h2>
<p>We recommend running our runtime requirements check first before launching the Gini Capture SDK to ensure the device is
capable of taking pictures of adequate quality.</p>
<p>Simply run <code class="docutils literal notranslate"><span class="pre">GiniCaptureRequirements.checkRequirements()</span></code> and inspect the returned <code class="docutils literal notranslate"><span class="pre">RequirementsReport</span></code> for the result:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Android 6.0 and later the camera permission is required before checking the requirements.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">RequirementsReport</span> <span class="n">report</span> <span class="o">=</span> <span class="n">GiniCaptureRequirements</span><span class="p">.</span><span class="na">checkRequirements</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">report</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">StringBuilder</span> <span class="n">stringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">();</span>
    <span class="n">report</span><span class="p">.</span><span class="na">getRequirementReports</span><span class="p">().</span><span class="na">forEach</span><span class="p">(</span><span class="n">requirementReport</span> <span class="o">-&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">getRequirementId</span><span class="p">());</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;: &quot;</span><span class="p">);</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">getDetails</span><span class="p">());</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
    <span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">&quot;Requirements not fulfilled:\n&quot;</span> <span class="o">+</span> <span class="n">stringBuilder</span><span class="p">,</span>
            <span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration and interaction is done using the <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> singleton.</p>
<p>To configure and create a new instance use the <code class="docutils literal notranslate"><span class="pre">GiniCapture.Builder</span></code> returned by <code class="docutils literal notranslate"><span class="pre">GiniCapture.newInstance()</span></code>. The
builder creates a new <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> singleton which you will need to destroy later with <code class="docutils literal notranslate"><span class="pre">GiniCapture.getInstance().cleanup()</span></code>.
This will also free up any used resources.</p>
<p>You should call <code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> after the SDK returned control to your application and your app has sent feedback to the
Gini Bank API and is not using the SDK anymore.</p>
<p>To view all the configuration options see the documentation of <a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/sdk/3.0.0-beta02/dokka/sdk/net.gini.android.capture/-gini-capture/-builder/index.html?query=public%20class%20Builder">GiniCapture.Builder</a>.</p>
<p>Information about the configurable features are available on the <a class="reference external" href="features.html">Features</a> page.</p>
</div>
<div class="section" id="tablet-support">
<h2>Tablet Support<a class="headerlink" href="#tablet-support" title="Permalink to this headline">¶</a></h2>
<p>The Gini Capture SDK can be used on tablets, too. Some UI elements adapt to the larger screen to offer the best user
experience for tablet users.</p>
<p>Many tablets with at least 8MP cameras don’t have an LED flash. Therefore we don’t require flash for tablets. For this
reason the extraction quality on those tablets might be lower compared to smartphones.</p>
<p>On tablets landscape orientation is also supported (smartphones are portrait only). We advise you to test your
integration on tablets in both orientations.</p>
<p>In landscape the camera screen’s UI displays the camera trigger button on the right side of the screen. Users
can reach the camera trigger more easily this way. The camera preview along with the document corner guides are shown in
landscape to match the device’s orientation.</p>
<p>Other UI elements on all the screens maintain their relative position and the screen layouts are scaled automatically to
fit the current orientation.</p>
</div>
<div class="section" id="networking">
<h2>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h2>
<p>Communication with the Gini Bank API is not part of the Gini Capture SDK in order to allow you the freedom to use a
networking implementation of your own choosing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should have received Gini Bank API client credentials from us. Please get in touch with us in case you don’t have
them. Without credentials you won’t be able to use the Gini Bank API.</p>
</div>
<p>We provide two interfaces which need to be implemented to enable the SDK to analyze documents and retrieve extractions:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkService</span></code></dt>
<dd>This interface is used to upload, analyze and delete documents. See the
<a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/sdk/3.0.0-beta02/dokka/sdk/net.gini.android.capture.network/-gini-capture-network-service/index.html">reference documentation</a>
for details.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkApi</span></code></dt>
<dd>This interface is used to declare network tasks which should be called by you outside of the Gini Capture SDK (e.g.,
for sending feedback after the user saw and potentielly corrected the extractions).  See the
<a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/sdk/3.0.0-beta02/dokka/sdk/net.gini.android.capture.network/-gini-capture-network-api/index.html">reference documentation</a> for details.</dd>
</dl>
</li>
</ul>
<div class="section" id="default-implementation">
<h3>Default Implementation<a class="headerlink" href="#default-implementation" title="Permalink to this headline">¶</a></h3>
<p>The quickest way to add networking is to use the <a class="reference external" href="https://github.com/gini/gini-mobile-android/tree/main/capture-sdk/default-network">Gini Capture Network
Library</a>.</p>
<p>To use it add the <code class="docutils literal notranslate"><span class="pre">gini-capture-network-lib</span></code> dependency to your app’s <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code>:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">implementation</span> <span class="s1">&#39;net.gini.android:gini-capture-sdk-default-network:3.0.0-beta02&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>For the Gini Capture SDK to be aware of the default implementations create the instances and pass
them to the builder of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">GiniCaptureDefaultNetworkService</span> <span class="n">networkService</span> <span class="o">=</span>
    <span class="n">GiniCaptureDefaultNetworkService</span><span class="p">.</span><span class="na">builder</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">)</span>
        <span class="p">.</span><span class="na">setClientCredentials</span><span class="p">(</span><span class="n">myClientId</span><span class="p">,</span> <span class="n">myClientSecret</span><span class="p">,</span> <span class="n">myEmailDomain</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="n">GiniCaptureDefaultNetworkApi</span> <span class="n">networkApi</span> <span class="o">=</span>
    <span class="n">GiniCaptureDefaultNetworkApi</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">withGiniCaptureDefaultNetworkService</span><span class="p">(</span><span class="n">networkService</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="n">GiniCapture</span><span class="p">.</span><span class="na">newInstance</span><span class="p">()</span>
    <span class="p">.</span><span class="na">setGiniCaptureNetworkService</span><span class="p">(</span><span class="n">networkService</span><span class="p">)</span>
    <span class="p">.</span><span class="na">setGiniCaptureNetworkApi</span><span class="p">(</span><span class="n">networkApi</span><span class="p">)</span>
    <span class="p">.</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<p>Both default implementations follow the builder pattern. See the documentation of
<a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/default-network/3.0.0-beta02/dokka/default-network/net.gini.android.capture.network/-gini-capture-default-network-service/-builder/index.html">GiniCaptureDefaultNetworkService.Builder</a>
and <a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/default-network/3.0.0-beta02/dokka/default-network/net.gini.android.capture.network/-gini-capture-default-network-api/-builder/index.html">GiniCaptureDefaultNetworkApi.Builder</a>
for configuration options.</p>
<div class="section" id="retrieve-the-analyzed-document">
<h4>Retrieve the Analyzed Document<a class="headerlink" href="#retrieve-the-analyzed-document" title="Permalink to this headline">¶</a></h4>
<p>You can call <code class="docutils literal notranslate"><span class="pre">GiniCaptureDefaultNetworkService.getAnalyzedGiniApiDocument()</span></code> after the Gini Capture SDK has returned
extractions to your application. It returns the Gini Bank API document which was created when the user uploaded an
image or pdf for analysis.</p>
<p>When extractions were retrieved without using the Gini Bank API, then it will return <code class="docutils literal notranslate"><span class="pre">null</span></code>. For example when the
extractions came from an EPS QR Code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure to call it before calling <code class="docutils literal notranslate"><span class="pre">GiniCaptureDefaultNetworkService.cleanup()</span></code> or <code class="docutils literal notranslate"><span class="pre">GiniCapture.cleanup()</span></code>.
Otherwise the analyzed document won’t be available anymore.</p>
</div>
</div>
</div>
<div class="section" id="custom-implementation">
<h3>Custom Implementation<a class="headerlink" href="#custom-implementation" title="Permalink to this headline">¶</a></h3>
<p>You can also provide your own networking by implementing the <code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkService</span></code> and the
<code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkApi</span></code> interfaces. Pass your instances to the builder of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> as shown
above.</p>
<p>You may also use the <a class="reference external" href="https://github.com/gini/gini-mobile-android/bank-api-library">Gini Bank API Library</a> for Android or implement
communication with the Gini Bank API yourself.</p>
</div>
<div class="section" id="sending-feedback">
<h3>Sending Feedback<a class="headerlink" href="#sending-feedback" title="Permalink to this headline">¶</a></h3>
<p>Your app should send feedback for the extractions the Gini Bank API delivered. Feedback should be sent <em>only</em> for the
extractions the user has seen and accepted (or corrected).</p>
<p>For additional information about feedback see the <a class="reference external" href="https://pay-api.gini.net/documentation/#send-feedback-and-get-even-better-extractions-next-time">Gini Bank API documentation</a>.</p>
<div class="section" id="id1">
<h4>Default Implementation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The example below shows how to correct extractions and send feedback using the default networking implementation:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>We also provide a sample test case <a class="reference external" href="https://github.com/gini/gini-mobile-android/blob/main/capture-sdk/default-network/src/androidTest/java/net/gini/android/capture/network/ExtractionFeedbackIntegrationTest.kt">here</a>
to verify that extraction feedback sending works. You may use it along with the example pdf and json files as a
starting point to write your own test case.</p>
<p class="last">The sample test case is based on the Bank API documentation’s <a class="reference external" href="https://pay-api.gini.net/documentation/#test-example">recommended steps</a> for testing extraction feedback sending.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">GiniCaptureDefaultNetworkApi</span> <span class="n">networkApi</span><span class="p">;</span> <span class="c1">// Provided</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">GiniCaptureSpecificExtraction</span><span class="o">&gt;</span> <span class="n">extractions</span><span class="p">;</span> <span class="c1">// Provided</span>

<span class="c1">// Modify the amount to pay extraction&#39;s value.</span>
<span class="n">GiniCaptureSpecificExtraction</span> <span class="n">amountToPay</span> <span class="o">=</span> <span class="n">extractions</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;amountToPay&quot;</span><span class="p">);</span>
<span class="n">amountToPay</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="s">&quot;31:00&quot;</span><span class="p">);</span>

<span class="c1">// You should send feedback only for extractions the user has seen and accepted.</span>
<span class="c1">// In this example only the amountToPay was wrong and we can reuse the other extractions.</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">GiniCaptureSpecificExtraction</span><span class="o">&gt;</span> <span class="n">feedback</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">GiniCaptureSpecificExtraction</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">feedback</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;iban&quot;</span><span class="p">,</span> <span class="n">extractions</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;iban&quot;</span><span class="p">));</span>
<span class="n">feedback</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;amountToPay&quot;</span><span class="p">,</span> <span class="n">amountToPay</span><span class="p">);</span>
<span class="n">feedback</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;bic&quot;</span><span class="p">,</span> <span class="n">extractions</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;bic&quot;</span><span class="p">));</span>
<span class="n">feedback</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;senderName&quot;</span><span class="p">,</span> <span class="n">extractions</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;senderName&quot;</span><span class="p">));</span>

<span class="n">networkApi</span><span class="p">.</span><span class="na">sendFeedback</span><span class="p">(</span><span class="n">feedback</span><span class="p">,</span> <span class="k">new</span> <span class="n">GiniCaptureNetworkCallback</span><span class="o">&lt;</span><span class="n">Void</span><span class="p">,</span> <span class="n">Error</span><span class="o">&gt;</span><span class="p">()</span> <span class="p">{</span>
         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="kt">void</span> <span class="nf">failure</span><span class="p">(</span><span class="n">Error</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
             <span class="c1">// Handle the error.</span>
         <span class="p">}</span>

         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="kt">void</span> <span class="nf">success</span><span class="p">(</span><span class="n">Void</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
             <span class="c1">// Feedback sent successfully.</span>
         <span class="p">}</span>

         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="kt">void</span> <span class="nf">cancelled</span><span class="p">()</span> <span class="p">{</span>
             <span class="c1">// Handle cancellation.</span>
         <span class="p">}</span>
     <span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>Custom Implementation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>If you use your own networking implementation and directly communicate with the Gini Bank API then see <a class="reference external" href="https://pay-api.gini.net/documentation/#submitting-feedback-on-extractions">this section</a> in its documentation on how to send
feedback.</p>
<p>In case you use the Gini Bank API Library then see <a class="reference external" href="https://developer.gini.net/gini-mobile-android/bank-api-library/library/html/guides/common-tasks.html#sending-feedback">this section</a> in its documentation
for details.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Bank API documentation provides <a class="reference external" href="https://pay-api.gini.net/documentation/#test-example">recommended steps</a> for
testing extraction feedback sending. You may use it along with the example pdf and json files as a starting point to
write a test case for verifying that feedback sending works.</p>
</div>
</div>
</div>
</div>
<div class="section" id="capturing-documents">
<h2>Capturing documents<a class="headerlink" href="#capturing-documents" title="Permalink to this headline">¶</a></h2>
<p>To launch the Gini Capture SDK you only need to:</p>
<ol class="arabic simple">
<li>Request camera access,</li>
<li>Configure a new instance of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code>,</li>
<li>Launch the <code class="docutils literal notranslate"><span class="pre">CameraActivity</span></code>,</li>
<li>Handle the result.</li>
</ol>
<p>The following diagram shows the interaction between your app and the SDK:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/Screen-API.png"><img alt="Diagram of interaction between your app and the SDK" src="_images/Screen-API.png" style="width: 100%;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Check out the <a class="reference external" href="https://github.com/gini/gini-mobile-android/tree/main/capture-sdk/screen-api-example-app">example app</a> to see how an integration could look
like.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CameraActivity</span></code> can return with the following result codes:</p>
<ul>
<li><p class="first">Activity.RESULT_OK</p>
<blockquote>
<div><p>Document was analyzed and the extractions are available in the <code class="docutils literal notranslate"><span class="pre">EXTRA_OUT_EXTRACTIONS</span></code> result extra. It contains a
<code class="docutils literal notranslate"><span class="pre">Bundle</span></code> with the extraction labels as keys and <code class="docutils literal notranslate"><span class="pre">GiniCaptureSpecificExtraction</span></code> parcelables as values.</p>
</div></blockquote>
</li>
<li><p class="first">Activity.RESULT_CANCELED</p>
<blockquote>
<div><p>User has canceled the Gini Capture SDK.</p>
</div></blockquote>
</li>
<li><p class="first">CameraActivity.RESULT_ERROR</p>
<blockquote>
<div><p>An error occured and the details are available in the <code class="docutils literal notranslate"><span class="pre">EXTRA_OUT_ERROR</span></code> result extra. It contains a parcelable extra
of type <code class="docutils literal notranslate"><span class="pre">GiniCaptureError</span></code> detailing what went wrong.</p>
</div></blockquote>
</li>
</ul>
<p>The following example shows how to launch the Gini Capture SDK and how to handle the results:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">launchGiniCapture</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Make sure camera permission has been already granted at this point.</span>

    <span class="c1">// Check that the device fulfills the requirements.</span>
    <span class="n">RequirementsReport</span> <span class="n">report</span> <span class="o">=</span> <span class="n">GiniCaptureRequirements</span><span class="p">.</span><span class="na">checkRequirements</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">report</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">handleUnfulfilledRequirements</span><span class="p">(</span><span class="n">report</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Instantiate the networking implementations.</span>
    <span class="n">GiniCaptureNetworkService</span> <span class="n">networkService</span> <span class="o">=</span> <span class="p">...</span>
    <span class="n">GiniCaptureNetworkApi</span> <span class="n">networkApi</span> <span class="o">=</span> <span class="p">...</span>

    <span class="c1">// Cleanup GiniCapture to make sure everything is reset.</span>
    <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">);</span>

    <span class="c1">// Configure GiniCapture and create a new singleton instance.</span>
    <span class="n">GiniCapture</span><span class="p">.</span><span class="na">newInstance</span><span class="p">()</span>
            <span class="p">.</span><span class="na">setGiniCaptureNetworkService</span><span class="p">(</span><span class="n">networkService</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setGiniCaptureNetworkApi</span><span class="p">(</span><span class="n">networkApi</span><span class="p">)</span>
            <span class="p">...</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>

    <span class="c1">// Launch the CameraActivity and wait for the result.</span>
    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">CameraActivity</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">startActivityForResult</span><span class="p">(</span><span class="n">intent</span><span class="p">,</span> <span class="n">GINI_CAPTURE_REQUEST</span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="p">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">requestCode</span><span class="p">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="p">,</span>
        <span class="kd">final</span> <span class="n">Intent</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">super</span><span class="p">.</span><span class="na">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">resultCode</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">GINI_CAPTURE_REQUEST</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">resultCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">Activity</span><span class="p">.</span><span class="na">RESULT_CANCELED</span><span class="p">:</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">case</span> <span class="n">Activity</span><span class="p">.</span><span class="na">RESULT_OK</span><span class="p">:</span>
                <span class="c1">// Retrieve the extractions</span>
                <span class="n">Bundle</span> <span class="n">extractionsBundle</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="na">getBundleExtra</span><span class="p">(</span>
                        <span class="n">CameraActivity</span><span class="p">.</span><span class="na">EXTRA_OUT_EXTRACTIONS</span><span class="p">);</span>

                <span class="c1">// Retrieve the extractions from the extractionsBundle</span>
                <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">GiniCaptureSpecificExtraction</span><span class="o">&gt;</span> <span class="n">extractions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">extractionLabel</span> <span class="p">:</span> <span class="n">extractionsBundle</span><span class="p">.</span><span class="na">keySet</span><span class="p">())</span> <span class="p">{</span>
                    <span class="n">GiniCaptureSpecificExtraction</span> <span class="n">extraction</span> <span class="o">=</span> <span class="n">extractionsBundle</span><span class="p">.</span><span class="na">getParcelable</span><span class="p">(</span><span class="n">extractionLabel</span><span class="p">);</span>
                    <span class="n">extractions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">extractionLabel</span><span class="p">,</span> <span class="n">extraction</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">handleExtractions</span><span class="p">(</span><span class="n">extractions</span><span class="p">);</span>

                <span class="k">break</span><span class="p">;</span>

            <span class="k">case</span> <span class="n">CameraActivity</span><span class="p">.</span><span class="na">RESULT_ERROR</span><span class="p">:</span>
                <span class="c1">// Something went wrong, retrieve and handle the error</span>
                <span class="kd">final</span> <span class="n">GiniCaptureError</span> <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="na">getParcelableExtra</span><span class="p">(</span>
                        <span class="n">CameraActivity</span><span class="p">.</span><span class="na">EXTRA_OUT_ERROR</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">handleError</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>
                <span class="p">}</span>

                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="features.html" class="btn btn-neutral float-right" title="Features">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting-started.html" class="btn btn-neutral" title="Getting started"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  
</body>
</html>