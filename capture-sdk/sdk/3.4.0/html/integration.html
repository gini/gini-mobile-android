

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integration &mdash; Gini Capture SDK for Android 2.0 documentation</title>
  

  
  

  
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic|Source+Code+Pro|Roboto+Slab:400,700" rel="stylesheet" type="text/css" />

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'2.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Gini Capture SDK for Android 2.0 documentation" href="index.html"/>
        <link rel="next" title="Features" href="features.html"/>
        <link rel="prev" title="Getting started" href="getting-started.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" id="gini-logo">
          <img src="_static/logo.png" />
        </a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#android-manifest">Android Manifest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#permissions">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#predictive-back-gesture">Predictive Back Gesture</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#requirements-check">Requirements Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tablet-support">Tablet Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#networking">Networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#default-implementation">Default Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-implementation">Custom Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cleanup-and-sending-feedback">Cleanup and Sending Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="#capturing-documents">Capturing documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features.html#document-capture">Document Capture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#onboarding">Onboarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#single-page">Single Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#multi-page">Multi-Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#camera">Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#qr-code-scanning">QR Code Scanning</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#only-qr-code-scanning">Only QR Code Scanning</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#help">Help</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#disable-supported-formats-help-screen">Disable Supported Formats Help Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#no-results">No Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#error">Error</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#document-import">Document Import</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#android-manifest">Android Manifest</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#intercepting-the-imported-document">Intercepting the imported document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#file-import-open-with">File Import (Open With)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#registering-pdf-and-image-file-types">Registering pdf and image file types</a></li>
<li class="toctree-l3"><a class="reference internal" href="features.html#handling-imported-files">Handling Imported Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#event-tracking">Event Tracking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="features.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="features.html#error-logging">Error Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#accessibility">Accessibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customization-guide.html">Customization Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#overview-of-ui-customization-options">Overview of UI Customization Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#styles">Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#images">Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#typography">Typography</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-ui-elements">Custom UI Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#dark-mode">Dark mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#onboarding-screen">Onboarding Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#ui-customization">UI Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id1">Bottom Navigation Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-onboarding-pages">Custom Onboarding Pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-illustration-views">Custom Illustration Views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#camera-screen">Camera Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id2">UI Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id3">Bottom Navigation Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-loading-indicator">Custom Loading Indicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#review-screen">Review Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id4">UI Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id5">Bottom Navigation Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-process-button-loading-indicator">Custom “Process” Button Loading Indicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#analysis-screen">Analysis Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id6">UI Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id7">Custom Loading Indicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#help-screen">Help Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id8">UI Customization</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id9">Bottom Navigation Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#custom-help-screens">Custom Help Screens</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#no-results-screen">No Results Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id10">UI Customization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#error-screen">Error Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#id11">UI Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrate-to-2-0-0.html">Migrate to 2.0.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-2-0-0.html#default-networking-implementation">Default Networking Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-2-0-0.html#ginicapturedefaultnetworkservice-builder">GiniCaptureDefaultNetworkService.Builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-2-0-0.html#sessionmanager">SessionManager</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="migrate-to-3-0-0.html">Migrate to 3.0.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-from-component-api">Migrate from Component API</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-from-screen-api">Migrate from Screen API</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-file-import-open-with">Migrate File Import (“open with”)</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-cleanup-step-and-feedback-sending">Migrate Cleanup Step and Feedback Sending</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#default-networking-implementation">Default Networking Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#custom-networking-implementation">Custom Networking Implementation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#overview-of-new-ui-customization-options">Overview of New UI Customization Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#styles">Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#images">Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#typography">Typography</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#ui-elements">UI Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#dark-mode">Dark mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="migrate-to-3-0-0.html#migrate-to-the-new-ui">Migrate to the new UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#back-buttons">Back Buttons</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#onboarding-screen">Onboarding Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#camera-screen">Camera Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#qr-code-scanner">QR Code Scanner</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#review-screen">Review Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#help-screen">Help Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#analysis-screen">Analysis Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#error-screen">Error Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrate-to-3-0-0.html#no-results-screen">No Results Screen</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#licenses-and-acknowledgements-for-incorporated-software">Licenses and Acknowledgements for Incorporated Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="license.html#apache-commons-imaging">Apache Commons Imaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#touchimageview">TouchImageView</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#simple-logging-facade-for-java-slf4j">Simple Logging Facade for Java (SLF4J)</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#jersey-repackaged-jsr166e">Jersey Repackaged JSR166e</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Gini Capture SDK for Android</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Integration</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="integration">
<h1>Integration<a class="headerlink" href="#integration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="android-manifest">
<h2>Android Manifest<a class="headerlink" href="#android-manifest" title="Permalink to this headline">¶</a></h2>
<div class="section" id="permissions">
<h3>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h3>
<p>The Gini Capture SDK uses the camera therefore the camera permission is required:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">package=</span><span class="s">&quot;...&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.CAMERA&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/manifest&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure you request the camera permission before starting the SDK.</p>
</div>
</div>
<div class="section" id="predictive-back-gesture">
<h3>Predictive Back Gesture<a class="headerlink" href="#predictive-back-gesture" title="Permalink to this headline">¶</a></h3>
<p>Starting from Android 13 apps should apply changes to support <a class="reference external" href="https://developer.android.com/guide/navigation/predictive-back-gesture">predictive back gestures</a>. The Gini Capture SDK already contains the
necessary changes.</p>
<p>Once your app is ready to support it (by targeting Android 13 and <a class="reference external" href="https://developer.android.com/guide/navigation/predictive-back-gesture#opt-predictive">enabling it in the Android Manifest</a>), then no further changes are
required from you.</p>
</div>
</div>
<div class="section" id="requirements-check">
<h2>Requirements Check<a class="headerlink" href="#requirements-check" title="Permalink to this headline">¶</a></h2>
<p>We recommend running our runtime requirements check first before launching the Gini Capture SDK to ensure the device is
capable of taking pictures of adequate quality.</p>
<p>Simply run <code class="docutils literal notranslate"><span class="pre">GiniCaptureRequirements.checkRequirements()</span></code> and inspect the returned <code class="docutils literal notranslate"><span class="pre">RequirementsReport</span></code> for the result:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Android 6.0 and later the camera permission is required before checking the requirements.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span> <span class="n">RequirementsReport</span> <span class="n">report</span> <span class="o">=</span> <span class="n">GiniCaptureRequirements</span><span class="p">.</span><span class="na">checkRequirements</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">report</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
    <span class="kd">final</span> <span class="n">StringBuilder</span> <span class="n">stringBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">();</span>
    <span class="n">report</span><span class="p">.</span><span class="na">getRequirementReports</span><span class="p">().</span><span class="na">forEach</span><span class="p">(</span><span class="n">requirementReport</span> <span class="o">-&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">getRequirementId</span><span class="p">());</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;: &quot;</span><span class="p">);</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">requirementReport</span><span class="p">.</span><span class="na">getDetails</span><span class="p">());</span>
            <span class="n">stringBuilder</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
    <span class="n">Toast</span><span class="p">.</span><span class="na">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">&quot;Requirements not fulfilled:\n&quot;</span> <span class="o">+</span> <span class="n">stringBuilder</span><span class="p">,</span>
            <span class="n">Toast</span><span class="p">.</span><span class="na">LENGTH_LONG</span><span class="p">).</span><span class="na">show</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration and interaction is done using the <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> singleton.</p>
<p>To configure and create a new instance use the <code class="docutils literal notranslate"><span class="pre">GiniCapture.Builder</span></code> returned by <code class="docutils literal notranslate"><span class="pre">GiniCapture.newInstance(context)</span></code>.
The builder creates a new <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> singleton which you can destroy later with <code class="docutils literal notranslate"><span class="pre">GiniCapture.cleanup()</span></code>. This
will also free up any used resources.</p>
<p>You must call <code class="docutils literal notranslate"><span class="pre">GiniCapture.cleanup()</span></code> after the user has seen (and potentially corrected) the extractions and
has used them to perform an action (for example to perform a payment transaction). Please pass the same values to
<code class="docutils literal notranslate"><span class="pre">cleanup()</span></code> which the user has seen and used in your UI.</p>
<p>To view all the configuration options see the documentation of <a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/sdk/3.4.0/dokka/sdk/net.gini.android.capture/-gini-capture/-builder/index.html?query=public%20class%20Builder">GiniCapture.Builder</a>.</p>
<p>Information about the configurable features are available on the <a class="reference external" href="features.html">Features</a> page and UI customization
options can be viewed in the <a class="reference external" href="customization-guide.html">Customization Guide</a>.</p>
</div>
<div class="section" id="tablet-support">
<h2>Tablet Support<a class="headerlink" href="#tablet-support" title="Permalink to this headline">¶</a></h2>
<p>The Gini Capture SDK can be used on tablets, too. Some UI elements adapt to the larger screen to offer the best user
experience for tablet users.</p>
<p>Many tablets with at least 8MP cameras don’t have an LED flash. Therefore we don’t require flash for tablets. For this
reason the extraction quality on those tablets might be lower compared to smartphones.</p>
<p>On tablets landscape orientation is also supported (smartphones are portrait only). We advise you to test your
integration on tablets in both orientations.</p>
<p>In landscape the camera screen’s UI displays the camera trigger button on the right side of the screen. Users
can reach the camera trigger more easily this way. The camera preview along with the document corner guides are shown in
landscape to match the device’s orientation.</p>
<p>Other UI elements on all the screens maintain their relative position and the screen layouts are scaled automatically to
fit the current orientation.</p>
</div>
<div class="section" id="networking">
<h2>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h2>
<p>Communication with the Gini Bank API is not part of the Gini Capture SDK in order to allow you the freedom to use a
networking implementation of your own choosing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should have received Gini Bank API client credentials from us. Please get in touch with us in case you don’t have
them. Without credentials you won’t be able to use the Gini Bank API.</p>
</div>
<p>We provide the <code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkService</span></code> interface which is used to upload, analyze and delete documents. See the
<a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/sdk/3.4.0/dokka/sdk/net.gini.android.capture.network/-gini-capture-network-service/index.html">reference documentation</a>
for details.</p>
<div class="section" id="default-implementation">
<h3>Default Implementation<a class="headerlink" href="#default-implementation" title="Permalink to this headline">¶</a></h3>
<p>The quickest way to add networking is to use the <a class="reference external" href="https://github.com/gini/gini-mobile-android/tree/main/capture-sdk/default-network">Gini Capture Network
Library</a>.</p>
<p>To use it add the <code class="docutils literal notranslate"><span class="pre">gini-capture-network-lib</span></code> dependency to your app’s <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code>:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">implementation</span> <span class="s1">&#39;net.gini.android:gini-capture-sdk-default-network:3.4.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>For the Gini Capture SDK to be aware of the default implementation create an instance and pass
it to the builder of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">GiniCaptureDefaultNetworkService</span> <span class="n">networkService</span> <span class="o">=</span>
    <span class="n">GiniCaptureDefaultNetworkService</span><span class="p">.</span><span class="na">builder</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">)</span>
        <span class="p">.</span><span class="na">setClientCredentials</span><span class="p">(</span><span class="n">myClientId</span><span class="p">,</span> <span class="n">myClientSecret</span><span class="p">,</span> <span class="n">myEmailDomain</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>

<span class="n">GiniCapture</span><span class="p">.</span><span class="na">newInstance</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">)</span>
    <span class="p">.</span><span class="na">setGiniCaptureNetworkService</span><span class="p">(</span><span class="n">networkService</span><span class="p">)</span>
    <span class="p">.</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<p>The default implementation follows the builder pattern. See the documentation of
<a class="reference external" href="https://developer.gini.net/gini-mobile-android/capture-sdk/default-network/3.4.0/dokka/default-network/net.gini.android.capture.network/-gini-capture-default-network-service/-builder/index.html">GiniCaptureDefaultNetworkService.Builder</a>
for configuration options.</p>
<div class="section" id="retrieve-the-analyzed-document">
<h4>Retrieve the Analyzed Document<a class="headerlink" href="#retrieve-the-analyzed-document" title="Permalink to this headline">¶</a></h4>
<p>You can call <code class="docutils literal notranslate"><span class="pre">GiniCaptureDefaultNetworkService.getAnalyzedGiniApiDocument()</span></code> after the Gini Capture SDK has returned
extractions to your application. It returns the Gini Bank API document which was created when the user uploaded an
image or pdf for analysis.</p>
<p>When extractions were retrieved without using the Gini Bank API, then it will return <code class="docutils literal notranslate"><span class="pre">null</span></code>. For example when the
extractions came from an EPS QR Code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure to call it before calling <code class="docutils literal notranslate"><span class="pre">GiniCapture.cleanup()</span></code>. Otherwise the analyzed document won’t be available anymore.</p>
</div>
</div>
</div>
<div class="section" id="custom-implementation">
<h3>Custom Implementation<a class="headerlink" href="#custom-implementation" title="Permalink to this headline">¶</a></h3>
<p>You can also provide your own networking by implementing the <code class="docutils literal notranslate"><span class="pre">GiniCaptureNetworkService</span></code> interface. Pass your
instances to the builder of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code> as shown above.</p>
<p>You may also use the <a class="reference external" href="https://github.com/gini/gini-mobile-android/tree/main/bank-api-library">Gini Bank API Library</a> for Android
or implement communication with the <a class="reference external" href="https://pay-api.gini.net/documentation/">Gini Bank API</a> yourself.</p>
</div>
</div>
<div class="section" id="cleanup-and-sending-feedback">
<h2>Cleanup and Sending Feedback<a class="headerlink" href="#cleanup-and-sending-feedback" title="Permalink to this headline">¶</a></h2>
<p>Your app should clean up the SDK and provide feedback for the extractions the Gini Bank API delivered. Feedback should
be sent only for the extractions the user has seen and accepted (or corrected).</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">stopGiniCaptureSDK</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// After the user has seen and potentially corrected the extractions</span>
    <span class="c1">// cleanup the SDK while passing in the final extraction values</span>
    <span class="c1">// which will be used as feedback to improve the future extraction accuracy:</span>
    <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">,</span>
            <span class="n">paymentRecipient</span><span class="p">,</span>
            <span class="n">paymentReference</span><span class="p">,</span>
            <span class="n">paymentPurpose</span><span class="p">,</span>
            <span class="n">iban</span><span class="p">,</span>
            <span class="n">bic</span><span class="p">,</span>
            <span class="n">amount</span>
        <span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We provide a sample test case <a class="reference external" href="https://github.com/gini/gini-mobile-android/blob/capture-sdk%3B3.2.1/capture-sdk/default-network/src/androidTest/java/net/gini/android/capture/network/ExtractionFeedbackIntegrationTest.kt">here</a>
to verify that extraction feedback sending works. You may use it along with the example pdf and json files as a starting
point to write your own test case.</p>
<p>The sample test case is based on the Bank API documentation’s <a class="reference external" href="https://pay-api.gini.net/documentation/#test-example">recommended steps</a> for testing extraction feedback sending.</p>
<p>For additional information about feedback see the <a class="reference external" href="https://pay-api.gini.net/documentation/#send-feedback-and-get-even-better-extractions-next-time">Gini Bank API documentation</a>.</p>
</div>
<div class="section" id="capturing-documents">
<h2>Capturing documents<a class="headerlink" href="#capturing-documents" title="Permalink to this headline">¶</a></h2>
<p>To launch the Gini Capture SDK you only need to:</p>
<ol class="arabic">
<li><p class="first">Request camera access,</p>
</li>
<li><p class="first">Configure a new instance of <code class="docutils literal notranslate"><span class="pre">GiniCapture</span></code>,</p>
</li>
<li><p class="first">Launch the <code class="docutils literal notranslate"><span class="pre">CameraActivity</span></code>,</p>
</li>
<li><p class="first">Handle the extraction results,</p>
</li>
<li><p class="first">Cleanup the SDK by calling <code class="docutils literal notranslate"><span class="pre">GiniCapture.cleanup()</span></code> while also providing the required extraction feedback to improve
the future extraction accuracy. You don’t need to implement any extra steps, just follow the recommendations below:</p>
<blockquote>
<div><ul class="simple">
<li>Please provide values for all necessary fields, including those that were not extracted.</li>
<li>Provide the final data approved by the user (and not the initially extracted only).</li>
<li>Do cleanup after TAN verification.</li>
</ul>
</div></blockquote>
</li>
</ol>
<p>The following diagram shows the interaction between your app and the SDK:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/Screen-API.png"><img alt="Diagram of interaction between your app and the SDK" src="_images/Screen-API.png" style="width: 100%;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Check out the <a class="reference external" href="https://github.com/gini/gini-mobile-android/tree/main/capture-sdk/screen-api-example-app">example app</a> to see how an integration could look
like.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CameraActivity</span></code> can return with the following result codes:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Activity.RESULT_OK</span></code></p>
<blockquote>
<div><p>Document was analyzed and the extractions are available in the <code class="docutils literal notranslate"><span class="pre">EXTRA_OUT_EXTRACTIONS</span></code> result extra. It contains a
<code class="docutils literal notranslate"><span class="pre">Bundle</span></code> with the extraction labels as keys and <code class="docutils literal notranslate"><span class="pre">GiniCaptureSpecificExtraction</span></code> parcelables as values.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Activity.RESULT_CANCELED</span></code></p>
<blockquote>
<div><p>User has canceled the Gini Capture SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">CameraActivity.RESULT_ERROR</span></code></p>
<blockquote>
<div><p>An error occured and the details are available in the <code class="docutils literal notranslate"><span class="pre">EXTRA_OUT_ERROR</span></code> result extra. It contains a parcelable extra
of type <code class="docutils literal notranslate"><span class="pre">GiniCaptureError</span></code> detailing what went wrong.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">CameraActivity.RESULT_ENTER_MANUALLY</span></code></p>
<blockquote>
<div><p>The document analysis finished with no results or an error and the user clicked the “Enter manually” button.</p>
</div></blockquote>
</li>
</ul>
<p>The following example shows how to launch the Gini Capture SDK and how to handle the results:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">launchGiniCapture</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Make sure camera permission has been already granted at this point.</span>

    <span class="c1">// Check that the device fulfills the requirements.</span>
    <span class="n">RequirementsReport</span> <span class="n">report</span> <span class="o">=</span> <span class="n">GiniCaptureRequirements</span><span class="p">.</span><span class="na">checkRequirements</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">report</span><span class="p">.</span><span class="na">isFulfilled</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">handleUnfulfilledRequirements</span><span class="p">(</span><span class="n">report</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Instantiate the networking implementations.</span>
    <span class="n">GiniCaptureNetworkService</span> <span class="n">networkService</span> <span class="o">=</span> <span class="p">...</span>

    <span class="c1">// Configure GiniCapture and create a new singleton instance.</span>
    <span class="n">GiniCapture</span><span class="p">.</span><span class="na">newInstance</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">)</span>
            <span class="p">.</span><span class="na">setGiniCaptureNetworkService</span><span class="p">(</span><span class="n">networkService</span><span class="p">)</span>
            <span class="p">...</span>
            <span class="p">.</span><span class="na">build</span><span class="p">();</span>

    <span class="c1">// Launch the CameraActivity and wait for the result.</span>
    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">CameraActivity</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
    <span class="n">startActivityForResult</span><span class="p">(</span><span class="n">intent</span><span class="p">,</span> <span class="n">GINI_CAPTURE_REQUEST</span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="p">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">requestCode</span><span class="p">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="p">,</span>
        <span class="kd">final</span> <span class="n">Intent</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">super</span><span class="p">.</span><span class="na">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span> <span class="n">resultCode</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">GINI_CAPTURE_REQUEST</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">resultCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="n">Activity</span><span class="p">.</span><span class="na">RESULT_CANCELED</span><span class="p">:</span>
                <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
                            <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Amount</span><span class="p">.</span><span class="na">EMPTY</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">case</span> <span class="n">Activity</span><span class="p">.</span><span class="na">RESULT_OK</span><span class="p">:</span>
                <span class="c1">// Retrieve the extractions</span>
                <span class="n">Bundle</span> <span class="n">extractionsBundle</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="na">getBundleExtra</span><span class="p">(</span>
                        <span class="n">CameraActivity</span><span class="p">.</span><span class="na">EXTRA_OUT_EXTRACTIONS</span><span class="p">);</span>

                <span class="c1">// Retrieve the extractions from the extractionsBundle</span>
                <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">GiniCaptureSpecificExtraction</span><span class="o">&gt;</span> <span class="n">extractions</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">extractionLabel</span> <span class="p">:</span> <span class="n">extractionsBundle</span><span class="p">.</span><span class="na">keySet</span><span class="p">())</span> <span class="p">{</span>
                    <span class="n">GiniCaptureSpecificExtraction</span> <span class="n">extraction</span> <span class="o">=</span> <span class="n">extractionsBundle</span><span class="p">.</span><span class="na">getParcelable</span><span class="p">(</span><span class="n">extractionLabel</span><span class="p">);</span>
                    <span class="n">extractions</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">extractionLabel</span><span class="p">,</span> <span class="n">extraction</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">handleExtractions</span><span class="p">(</span><span class="n">extractions</span><span class="p">);</span>

                <span class="k">break</span><span class="p">;</span>

            <span class="k">case</span> <span class="n">CameraActivity</span><span class="p">.</span><span class="na">RESULT_ERROR</span><span class="p">:</span>
                <span class="c1">// Something went wrong, retrieve and handle the error</span>
                <span class="kd">final</span> <span class="n">GiniCaptureError</span> <span class="n">error</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="na">getParcelableExtra</span><span class="p">(</span>
                        <span class="n">CameraActivity</span><span class="p">.</span><span class="na">EXTRA_OUT_ERROR</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">handleError</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
                        <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Amount</span><span class="p">.</span><span class="na">EMPTY</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">case</span> <span class="n">CameraActivity</span><span class="p">.</span><span class="na">RESULT_ENTER_MANUALLY</span><span class="p">:</span>
                <span class="n">handleEnterManually</span><span class="p">();</span>
                <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
                        <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Amount</span><span class="p">.</span><span class="na">EMPTY</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">stopGiniCaptureSDK</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// After the user has seen and potentially corrected the extractions</span>
    <span class="c1">// cleanup the SDK while passing in the final extraction values</span>
    <span class="c1">// which will be used as feedback to improve the future extraction accuracy:</span>
    <span class="n">GiniCapture</span><span class="p">.</span><span class="na">cleanup</span><span class="p">((</span><span class="n">Context</span><span class="p">)</span> <span class="k">this</span><span class="p">,</span>
            <span class="n">paymentRecipient</span><span class="p">,</span>
            <span class="n">paymentReference</span><span class="p">,</span>
            <span class="n">paymentPurpose</span><span class="p">,</span>
            <span class="n">iban</span><span class="p">,</span>
            <span class="n">bic</span><span class="p">,</span>
            <span class="n">amount</span>
        <span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="features.html" class="btn btn-neutral float-right" title="Features">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting-started.html" class="btn btn-neutral" title="Getting started"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  
</body>
</html>